(this.webpackJsonppototoro=this.webpackJsonppototoro||[]).push([[0],[,,,,function(e,t,n){e.exports={clock:"styles_clock__2_xsk","clock--running":"styles_clock--running__22COI",clock__label:"styles_clock__label__3jvFx","clock__label--bottom":"styles_clock__label--bottom__2mhOE",clock__circle:"styles_clock__circle__3bClP",clock__path:"styles_clock__path__1xyVs","clock__path--thin":"styles_clock__path--thin__2vvf6","clock__path-remaining":"styles_clock__path-remaining__K7WQA","clock__path-remaining--thin":"styles_clock__path-remaining--thin__3SIZl"}},function(e,t,n){e.exports={"timer-setup":"styles_timer-setup__3lu0a","timer-setup--disappearing":"styles_timer-setup--disappearing__28aP7","timer-setup__label":"styles_timer-setup__label__2g8Ze"}},function(e,t,n){e.exports={totoro:"styles_totoro__3zYs8","totoro--hidden":"styles_totoro--hidden__FJBts","totoro--changing":"styles_totoro--changing__e6rm8",change:"styles_change__27ayD"}},function(e,t,n){e.exports={timer:"styles_timer__3thNU",timer__button:"styles_timer__button__2yzvJ"}},,,function(e,t,n){e.exports={button:"styles_button__12U2K"}},function(e,t,n){e.exports={input:"styles_input__33MKN"}},function(e,t,n){e.exports=n.p+"static/media/work.48ee6419.gif"},function(e,t,n){e.exports=n.p+"static/media/break.6a93a05c.gif"},function(e,t,n){e.exports={app:"styles_app__1jJpR"}},function(e,t,n){e.exports=n(21)},,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(9),o=n.n(r),c=n(1),l=n.n(c),s=n(10),u=n.n(s),m=function(e){var t=e.children,n=e.onClick,i=e.className,r=a.useRef(null);return a.createElement("button",{onClick:function(e){var t;n(e),null===(t=r.current)||void 0===t||t.blur()},className:l()(u.a.button,i),ref:r},t)},_=n(3),k=n(4),f=n.n(k),g=function(e){var t=e.timeLeft,n=e.initialTime,i=e.isRunning,r=e.children,o=n&&t?283*function(e,t){return(e-t)/e}(n,t):0;return a.createElement("div",{className:l()(f.a.clock,Object(_.a)({},f.a["clock--running"],i))},a.createElement("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{className:f.a.clock__circle},a.createElement("circle",{className:l()(f.a.clock__path,Object(_.a)({},f.a["clock__path--thin"],i)),cx:"50",cy:"50",r:"45"}),a.createElement("path",{strokeDasharray:"".concat(o.toFixed(0)," ").concat(283),className:l()(f.a["clock__path-remaining"],Object(_.a)({},f.a["clock__path-remaining--thin"],i)),"data-testid":"clock-remaining-time",d:" M 50, 50 m -45, 0 a 45,45 0 1,0 90,0 a 45,45 0 1,0 -90,0 "}))),r,a.createElement("span",{className:l()(f.a.clock__label,Object(_.a)({},f.a["clock__label--bottom"],i)),"data-testid":"clock-label"},t?function(e){var t=Math.floor(e/3600);return[t,Math.floor(e/60)-60*t,Math.floor(e%60)].filter((function(e,t){return!(0===t&&0===e)})).map((function(e){return e>9?e.toString():"0".concat(e)})).join(":")}(t):"-"))},h=n(2),p=function(e){var t=i.a.useState(e),n=Object(h.a)(t,2),a=n[0],r=n[1],o=i.a.useState(!1),c=Object(h.a)(o,2),l=c[0],s=c[1],u=i.a.useState(!1),m=Object(h.a)(u,2),_=m[0],k=m[1];i.a.useEffect((function(){r(e)}),[e,r]),i.a.useEffect((function(){if(l){var e=setInterval((function(){r((function(e){return e-1}))}),1e3);return function(){clearInterval(e)}}}),[l,r]),i.a.useEffect((function(){0===a&&(s(!1),k(!0))}),[a,s,k]);var f=i.a.useCallback((function(){_&&k(!1),s((function(e){return!e}))}),[_]),g=i.a.useCallback((function(){r(e),s(!1),k(!1)}),[s,k,r,e]);return{isFinished:_,reset:g,toggle:f,currentTime:a,isOn:l}},b=function(e,t){switch(t.type){case"SET_WORK_TIME":return Object.assign({},e,{workTime:t.time});case"SET_SHORT_BREAK_TIME":return Object.assign({},e,{shortBreakTime:t.time});case"SET_LONG_BREAK_TIME":return Object.assign({},e,{longBreakTime:t.time});default:return e}},d={workTime:3e3,longBreakTime:1800,shortBreakTime:600},T=function(){var e=a.useReducer(b,d),t=Object(h.a)(e,2),n=t[0],i=t[1];return{timerConfiguration:n,onWorkTimeChange:a.useCallback((function(e){i({type:"SET_WORK_TIME",time:60*e})}),[]),onShortBreakTimeChange:a.useCallback((function(e){i({type:"SET_SHORT_BREAK_TIME",time:60*e})}),[]),onLongBreakTimeChange:a.useCallback((function(e){i({type:"SET_LONG_BREAK_TIME",time:60*e})}),[])}},E=n(7),v=n.n(E);var C,y=function(e){var t=a.useState(0),n=Object(h.a)(t,2),i=n[0],r=n[1],o=a.useCallback((function(){var t=0;i+1>e.length-1?r(t):r(t=i+1)}),[i,r,e]),c=a.useCallback((function(){r(0)}),[r]);return{current:e[i],next:o,restart:c}},O=n(11),B=n.n(O),N=function(e){var t=e.initialValue,n=void 0===t?0:t,i=e.onChange,r=e.className,o=e["data-testid"],c=a.useState(n),s=Object(h.a)(c,2),u=s[0],m=s[1],_=a.useCallback((function(e){var t=""!==e.currentTarget.value?Number(e.currentTarget.value):0;m(t),i(t)}),[m,i]);return a.createElement("input",{"data-testid":o,className:l()(B.a.input,r),type:"number",min:"0",max:"60",value:u.toString(),onChange:_})},S=n(5),w=n.n(S),j=function(e){var t=e.timerConfiguration,n=e.onWorkTimeChange,i=e.onShortBreakTimeChange,r=e.onLongBreakTimeChange,o=e.visible,c=void 0===o||o;return a.createElement("div",{className:l()(w.a["timer-setup"],Object(_.a)({},w.a["timer-setup--disappearing"],!c))},a.createElement("label",{className:w.a["timer-setup__label"]},"Work [min]",a.createElement(N,{"data-testid":"work-time-input",className:w.a.timer__input,initialValue:t.workTime/60,onChange:n})),a.createElement("label",{className:w.a["timer-setup__label"]},"Short break [min]",a.createElement(N,{"data-testid":"short-break-time-input",className:w.a.timer__input,initialValue:t.shortBreakTime/60,onChange:i})),a.createElement("label",{className:w.a["timer-setup__label"]},"Long break [min]",a.createElement(N,{"data-testid":"long-break-time-input",className:w.a.timer__input,initialValue:t.longBreakTime/60,onChange:r})))},x=n(12),R=n.n(x),W=n(13),I=n.n(W),M=n(6),K=n.n(M);!function(e){e[e.Work=0]="Work",e[e.Break=1]="Break"}(C||(C={}));var L=function(e){var t,n=e.hidden,i=e.state,r=a.useState(!1),o=Object(h.a)(r,2),c=o[0],s=o[1],u=a.useState(i),m=Object(h.a)(u,2),k=m[0],f=m[1];return a.useEffect((function(){s(!0),setTimeout((function(){f(i)}),300),setTimeout((function(){s(!1)}),1e3)}),[i]),a.createElement("img",{className:l()(K.a.totoro,(t={},Object(_.a)(t,K.a["totoro--hidden"],n),Object(_.a)(t,K.a["totoro--changing"],c),t)),src:k===C.Work?R.a:I.a})},A=function(){var e=T(),t=e.timerConfiguration,n=e.onWorkTimeChange,i=e.onShortBreakTimeChange,r=e.onLongBreakTimeChange,o=y([t.workTime,t.shortBreakTime,t.workTime,t.longBreakTime]),c=o.current,l=o.next,s=o.restart,u=p(c),_=u.currentTime,k=u.toggle,f=u.reset,h=u.isFinished,b=u.isOn;a.useEffect((function(){h&&(l(),k())}),[h,l,k]);var d=a.useCallback((function(e){e.preventDefault(),b?(f(),s()):k()}),[k,f,s,b]);return a.createElement("div",{className:v.a.timer},a.createElement(g,{timeLeft:_,initialTime:c,isRunning:b},a.createElement(L,{hidden:!b,state:c===t.workTime?C.Work:C.Break})),a.createElement(j,{timerConfiguration:t,onWorkTimeChange:n,onShortBreakTimeChange:i,onLongBreakTimeChange:r,visible:!b}),a.createElement(m,{className:v.a.timer__button,onClick:d},b?"RESET":"START"))},F=n(14),J=n.n(F);var V=function(){return i.a.createElement("div",{className:J.a.app},i.a.createElement(A,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(20);o.a.render(i.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[15,1,2]]]);
//# sourceMappingURL=main.88907f81.chunk.js.map